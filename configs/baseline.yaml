# SAFER-Bench Baseline Configuration
# Based on FedRAG v1 implementation

# QA Datasets
qa_datasets: "pubmedqa|bioasq"
qa_num: 100  # Number of questions per dataset

# Retrieval configuration (from FedRAG)
retriever:
  type: "FAISS-IVF"
  metric: "L2"  # FAISS METRIC_L2
  embedding_model: "sentence-transformers/all-MiniLM-L6-v2"
  embedding_dimension: 384
  batch_size: 32

# Document merging
merger:
  type: "RRF"  # Reciprocal Rank Fusion
  k_rrf: 60  # From FedRAG pyproject.toml

# Language Model
llm:
  model: "HuggingFaceTB/SmolLM2-1.7B-Instruct"  # From FedRAG
  use_gpu: false
  max_new_tokens: 10

# Federation settings
federation:
  num_data_owners: 2  # From FedRAG (2 supernodes)
  corpus_names: "statpearls|textbooks"  # From FedRAG
  aggregator: "ds@openmined.org"
  datasites:
    - "do1@openmined.org"
    - "do2@openmined.org"

# Retrieval parameters
retrieval:
  k_nn: 8  # k-nearest neighbors from FedRAG
  nlist: auto  # sqrt(n_embeddings) for IVF clusters

# No privacy in baseline
privacy: none

# Evaluation settings
evaluation:
  metrics:
    - accuracy  # Answer correctness
    - answered_ratio  # Questions answered vs total
    - mean_query_time  # Average time per query
  seed: 42
  output_dir: "results/baseline/"